---
id: mix-theme
title: 'Mix theme'
---

# Mix Theme

`MixTheme` is the base class for theming your application using _Mix_ using Design Tokens. It makes use of a `MixThemeData` class, where you'll be able to style your app gloablly, as well as dyanmically change values and colors

## Initialization

In order to style your app, wrap it in a `MixTheme`, usually on the `builder` parameter of `WidgetsApp` and its variant:

```dart
class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'My app with Mix',
      home: const Home(),
      builder: (context, child) {
        return MixTheme(
          data: const MixThemeData(
            // the app style will be defined here
          ),
          child: child ?? const SizedBox.shrink(),
        );
      }
    );
  }
}
```


## Design Tokens

Tokens allow to define visual properties like colors, text styles, and spacing that can be consistently applied across all your widgets.

The most important difference between defining a design token in Mix vs. a constant is that Mix allows you to define `context` reference values that will be used on build time.

### Context Tokens

Context Tokens are design tokens that are defined at build time. With this, it's possible to do things like:

- dynamically changing the accent color of the app
- define multiple themes for different parts of the app

Context tokens are made of references (`MixRef`), which can be read by `Mix` at build time. There are a lot of built-in context tokens already available for usage, from colors to text:

For example, if you want to create a rounded button with the primary color, you can use `bgColor($primary)`:

```dart
PressableWidgetFn get button => Mix(
      textStyle($body2),
      bold(),
      fontSize(16.0),
      paddingHorizontal(15.0),
      paddingVertical(8.0),
      rounded(5),

      animated(), // animate your color change
      bgColor($primary), // use the primary color
      (hover)(
        bgColor($colorScheme.secondary), // when hovering, use the secondary color
      ),

    ).pressable;

class MyButton extends StatelessWidget {
  const MyButton({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return button( // call your button
      child: const TextMix('Details'),
      onPressed: () {},
    );
  }
}
```

#### Context References Catalog

The built-in context references you can use on your app. They are based on the material theme:

Text references:

- `$h1`, `$h2`, `$h3`, `$h4`, `$h5`, `$h6`
- `$subtitle1`, `$subtitle2`
- `$body1`, `$body1`
- `$caption`, `$button`, `$overline`

Color references:

- `$primary`, `$secondary`, `$surface`, `$background`, `$error`
- `$onPrimary`, `$onSecondary`, `$onSurface`, `$onBackground`, `$onError`
- `colorScheme`: returns all the colors above 

### Creating new context references

First, define a call to that reference. It usually starts with a dollar sign (`$`):

```dart
const $myColor = ColorRef('myColor');
```

Then, define it on your `MixThemeData`:

```dart
MixTheme(
  data: MixThemeData(
    contextRef: {
      $myColor: (BuildContext context) {
        final brightness = Theme.of(context).brightness;
        if (brightness == Brightness.light) {
          return Colors.black;
        } else {
          return Colors.white;
        }
      }
    }
  ),
  child: ...,
),
```

Finally, use it a `Mix`:

```dart
final myMix = Mix(bgColor($myColor));
```
